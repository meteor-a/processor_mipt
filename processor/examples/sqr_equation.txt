IN ax ;a - coef of equation
IN bx ;b - coef of equation
IN cx ;c - coef of equation
CALL SolveQuadro
HLT

SolveQuadro:
	PUSH 0
	PUSH ax
	JNE withA
	PUSH 0
	PUSH bx
	JNE withB
	PUSH 0
	PUSH cx
	JNE withC
	PUSH 8.888 ; infiniti
	OUT
	HLT
	
withA:
	JMP CalcD
	PUSH 0
	PUSH dx
	JA DISCLessZero
	CALL CALCXplus
	CALL CALCXminus
	
	

withB:
	JMP MinusCdivB

withC:
	PUSH 0 ; no solution
	OUT
	HLT

CalcD:
	PUSH bx
	PUSH bx
	MUL
	PUSH 4
	PUSH ax
	PUSH cx
	MUL
	MUL
	SUB
	POP [dx]

DISCLessZero:
	PUSH 0 ; no solution
	OUT
	HLT
	
CALCXplus:
	PUSH bx
	PUSH dx
	SQRT
	ADD
	PUSH 2
	PUSH ax
	MUL
	DIV
	OUT
	HLT


CALCXminus:
	PUSH bx
	PUSH dx
	SQRT
	SUB
	PUSH 2
	PUSH ax
	MUL
	DIV
	OUT
	HLT
	
MinusCdivB:
	PUSH -1
	PUSH cx
	MUL
	PUSH bx
	DIV
	OUT
	HLT
